@font-face{
  font-family: "MixFont";
  src: url("../fonts/Azim-Light.otf") format("opentype");
  font-weight: 400;
  font-style: normal;
  unicode-range: U+0000-024F, U+2000-206F, U+20A0-20CF;
}
@font-face{
  font-family: "MixFont";
  src: url("../fonts/HYc1gj.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
  unicode-range: U+3000-303F, U+3400-4DBF, U+4E00-9FFF, U+FF00-FFEF;
}
@font-face{
  font-family: "MixFont";
  src: url("../fonts/DFKai-SB.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
  unicode-range: U+3000-303F,U+3400-4DBF,U+4E00-9FFF,U+FF00-FFEF;;
}
@font-face{
  font-family: "MixFont";
  src: url("../fonts/STKaiti.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
  unicode-range: U+3000-303F,U+3400-4DBF,U+4E00-9FFF,U+FF00-FFEF;
}

html, body{
  height: 100%;
  overflow: hidden;          /* ✅ 整页不滚动 */
}
#fitRoot{
  height: 100svh;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: 10px;             /* 视口边距 */
  box-sizing: border-box;
}

/* 内容本体（会被 JS scale） */
#fitContent{
  width: min(900px, 100%);
  transform-origin: top center;
  will-change: transform;
}

:root{
  --ui-fs: clamp(22px, 2.6vw, 30px); /* 统一字号 */

  --bg1:#fff7fb;
  --bg2:#ffffff;
  --bg3:#f3fff7;

  --card-bg: rgba(255,255,255,.94);
  --card-border: rgba(255,120,170,.18);
  --card-shadow: 0 16px 40px rgba(60,20,40,.10);

  --chip-bg:#ffffff;
  --chip-border:#ff7fb6;

  --msg-bg:#fff0f7;
  --msg-color:#ff7a1a;

  --accent:#ff7fb6;     /* 主色：粉 */
  --accent2:#7aa7e8;    /* 辅色：蓝 */
  --accent3:#ffb74d;    /* 强调：橙 */
}
.question{ font-size: var(--ui-fs); }
.word{ font-size: var(--ui-fs); }
.word{ border-color: var(--accent); }
.blank.hover{ outline-color: color-mix(in srgb, var(--accent3) 70%, transparent); }

.word{ 
  box-shadow: 0 6px 14px rgba(0,0,0,.08);
  border-width: 2px;
  border-radius: 18px;
}

.cornerTag{
  position: absolute;
  top: 12px;
  left: 12px;
  z-index: 10001;
  pointer-events: none;
  display: inline-flex;
  align-items: center;
  gap: 6px;
}
.cornerTag img{ height: 18px; width:auto; display:block; flex:0 0 auto; }

.cornerTag > span{
  font-size: 14px;
  line-height: 0.5;
  color: rgba(0,0,0,.75);
  white-space: nowrap;
}
.cornerTag .en{
  font-size: 12px;
  display: inline-block;
  transform: translateY(-0.03em);
}

body{
  position: relative;
  margin:0;
  padding:clamp(5px, 3vw, 20px);
  font-family: "MixFont","KaiTi","Kaiti SC","STKaiti","DFKai-SB", serif;
  font-size:var(--fs);
  font-weight:bold;
  line-height:1;
  background: linear-gradient(180deg, var(--bg1), var(--bg2) 55%, var(--bg3));
}

body::before{
  content:"";
  position: fixed;
  inset: 0;
  pointer-events: none;
  opacity: .55;
  background:
    radial-gradient(circle at 10% 15%, rgba(255,170,200,.25) 0 26px, transparent 27px),
    radial-gradient(circle at 90% 18%, rgba(120,200,255,.22) 0 28px, transparent 29px),
    radial-gradient(circle at 18% 85%, rgba(170,255,200,.22) 0 30px, transparent 31px),
    radial-gradient(circle at 85% 82%, rgba(255,220,120,.20) 0 32px, transparent 33px);
}

@keyframes pop{
  0%{ transform: scale(.96); opacity: .0; }
  100%{ transform: scale(1); opacity: 1; }
}

#message:not(:empty){
  animation: pop .18s ease-out;
}

/* 标题 */
.topArea{
  padding-top: 20px;
  text-align: center;
}

.lead{ margin:0px 0 5px; font-size: clamp(22px, 2.6vw, 30px); }

#pageTitle{
  display:block;
  width: min(800px, 100%);
  margin: -15px auto 0px;
  text-align: center;
  font-size: clamp(30px, 5vw, 45px);
  font-weight: 800;
  line-height: 1.1;
  padding-bottom: 10px;

  text-shadow:
    -2px -2px 0 #fff,  2px -2px 0 #fff,
    -2px  2px 0 #fff,  2px  2px 0 #fff,
     0   -2px 0 #fff,  0    2px 0 #fff,
    -2px  0   0 #fff,  2px  0   0 #fff,
     0    4px 10px rgba(0,0,0,.18);
}

/* 选项区 */
.words{
  font-family: "MixFont","KaiTi","Kaiti SC","STKaiti","DFKai-SB", serif;
  text-align:center;
  margin:10px 0 0px;
}

.word{
  font-family: "MixFont","KaiTi","Kaiti SC","STKaiti","DFKai-SB", serif;
  font-weight: bold;
  display:inline-flex;
  padding:1px 0 1px;
  margin:2px 0 2px;
  border:2px solid var(--chip-border);
  border-radius:15px;
  box-shadow: 0 6px 14px rgba(0,0,0,.10);
  transform: translateZ(0);
  background: var(--chip-bg);
  cursor:grab;
  min-width:80px;
  min-height:40px;
  align-items:center;
  justify-content:center;
  text-align:center;
  transition: transform .12s ease, box-shadow .12s ease;
}
.word.picked{
  outline: 3px solid rgba(123,63,123,.35);
  transform: translateY(-1px);
}
.word.is-hidden{ display:none !important; }
.word:hover{
  transform: translateY(-2px);
}
.word:active{
  transform: translateY(0) scale(.98);
}

/* 题目区 */
.questions{ 
  width: min(550px, 100%);
  margin: 10px auto 0px;
  padding: 5px 0px 0px 40px;
  border-radius: 15px;
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  box-shadow: 0 14px 34px rgba(0,0,0,.10);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  align-content: center;
}
.question{
  font-family: "MixFont","KaiTi","Kaiti SC","STKaiti","DFKai-SB", serif;
  font-weight: bold;
  text-align:left;
  margin:10px 0;
  padding: 6px 4px;
  border-radius: 12px;
}
.question:not(:last-child){
  border-bottom: 1px dashed rgba(123,63,123,.18);
}

/* 答案框 */
.blank{
  display:inline-block;
  width:90px;
  height:45px;
  border:2px dashed rgba(120,120,120,.55);
  vertical-align:middle;
  text-align:center;
  line-height:45px;
  border-radius:15px;
  margin:0 6px;
  background:rgba(255,255,255,.95);
}

.blank.hover{
  outline: 3px solid rgba(255,170,70,.55);
  outline-offset: 3px;
  box-shadow: 0 10px 22px rgba(255,170,70,.18);
}

/* 提示文字 */
#message{
  font-family: "MixFont","KaiTi","Kaiti SC","STKaiti","DFKai-SB", serif;
  display:inline-flex; 
  text-align:center;
  justify-content: center; 
  align-items: center;
  margin:5px 0 0px;
  font-size:30px;
  color: var(--msg-color);
  background: var(--msg-bg);
  padding:10px 24px;
  border-radius:20px;
  gap: 10px;  
  min-height: 44px; 
  border-radius: 999px;
  box-shadow: 0 10px 24px rgba(0,0,0,.10);
  pointer-events: auto; 
}

#message:empty{ visibility: hidden; }
.message-area{
  position: static;
  text-align: center;
  margin: 10px 0 0;     /* 题目下方留一点距离 */
  pointer-events: none; /* 不挡拖拽 */
}
#message{ pointer-events: auto; }

/* 手机自适应（只在手机生效） */
@media (max-width: 650px) {
  :root{
    --ui-fs: clamp(24px, 5.2vw, 34px);
  }

  .questions{ width:100%; }

  .blank{
    width:70px;
    height:40px;
    line-height:40px;
    font-size: clamp(24px, 5.2vw, 34px);
  }

  #pageTitle{
    font-size: clamp(28px, 7vw, 46px);
    padding: 10px 14px;
  }

  .topArea{ padding-top: 38px; }

  /* 给手机拖拽用（不影响电脑） */
  .word{
    -webkit-user-select:none;
    user-select:none;
    -webkit-touch-callout:none;
    touch-action:none;
  }
  .blank{ touch-action:none; }

  /* 手机上按钮间距 */
  #controls{ gap: 12vw; }
}

/* ===== 底部按钮（PNG / img swap 版） ===== */
#controls{
  position:sticky;
  bottom: 0;
  z-index:50;

  display:flex;
  justify-content:center;
  align-items:center;
  gap:100px;

  padding: 2px 2px;
  background: transparent;
}

#controls::before{
  content:"";
  position:absolute;
  left: 0;
  right: 0;
  bottom: 0;
  top: 5px; 
  background: linear-gradient(
    180deg, 
    rgba(255,255,255,.0), 
    rgba(255,255,255,.88)
);
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
  pointer-events:none;
  z-index:0;
}

#controls .img-btn{
  z-index: 1;
  width: clamp(40px, 12vw, 60px);
  height: clamp(60px, 40vw, 80px);
  border: none;
  padding: 0;
  cursor: pointer;
  background: transparent;
  -webkit-tap-highlight-color: transparent;
}

#controls .img-btn img{
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
}

@media (max-width: 650px) and (orientation: portrait) {
  :root{
    --ui-fs: clamp(18px, 4.1vw, 24px);
  }

  /* 同时略缩小空格宽度，给文字多一点横向空间（可选但很有效） */
  .blank{
    width: 62px;
    margin: 0 4px;
  }

  /* 让边框/虚线左右对齐，不要左边空、右边挤 */
  .questions{
    box-sizing: border-box;
    padding-left: 12px;
    padding-right: 12px; /* 关键：跟左边一致 */
  }

  /* 让虚线分隔从左到右更“齐” */
  .question{
    padding: 6px 0;
  }

  .result{ right: 8px; }
}
@media (max-width: 900px) and (orientation: landscape) and (hover: none) and (pointer: coarse){

  body{ padding:0 !important; }

  :root{
    --ui-fs: clamp(16px, 2.6vh, 22px);
    --ls-fs: clamp(16px, 2.6vh, 22px);         /* 横屏统一字号：option/question/blank 同倍率 */
    --optColW: clamp(120px, 18vw, 180px);      /* 左侧选项栏宽度：调宽度就改这里 */
    --rowH: clamp(40px, 10vh, 56px);           /* 每一行（A/B/C/D 与四个选项）的统一高度 */
    --qW: clamp(320px, 52vw, 420px);  /* questions 的宽度（横屏可自动适配） */
    --msgGap: 12px;                  /* message 与 questions 的间距 */
    --card-w: min(550px, 92vw); /* 你 questions 的目标宽度 */
  }

  #fitRoot{
    height:100svh !important;
    padding-bottom: calc(92px + env(safe-area-inset-bottom)) !important;
    padding: 8px 10px calc(8px + env(safe-area-inset-bottom)) !important;
    box-sizing:border-box !important;
    align-items:stretch !important;
  }

  /* —— 版面：top / 主内容 / message / controls —— */
  #fitContent{
    height: 100% !important;
    display: grid !important;

    grid-template-columns: var(--optColW) 1fr !important;
    grid-template-rows: auto 1fr !important;

    grid-template-areas:
      "top top"
      "opts qs" !important;

    column-gap: 14px !important;
    row-gap: 10px !important;
    align-items: start !important; 
  }

  .topArea{
    width: var(--card-w);
    margin: 0 auto;
    text-align: center;
    position: relative;
    z-index: 2;
  }

  /* cornerTag：横屏固定在顶部，不挡标题 */
  .cornerTag{
    position: fixed !important;
    top: 6px !important;
    left: 8px !important;
    right: 8px !important;
    justify-content: left !important;
    transform: scale(.92) !important;
    transform-origin: top left !important;
    pointer-events:none !important;
  }

  #pageTitle{
    margin: 0 auto 2px !important;
    padding: 0 10px 4px !important;
    font-size: clamp(26px, 4.8vh, 44px) !important;
    line-height: 1.08 !important;
  }
  .lead{
    margin: 0 0 4px !important;
    font-size: clamp(16px, 2.8vh, 24px) !important;
  }
  #pageTitle,
  .lead{
    display: block;
    margin-left: auto;
    margin-right: auto;
    text-align: center;
  }

  /* —— 左侧：选项（四行=四题对齐）—— */
  .words{
    grid-area: opts !important;
    margin:0 !important;
    display:grid !important;
    grid-template-columns: 1fr !important;
    grid-template-rows: repeat(4, var(--rowH)) !important;  /* 关键：四行 */
    gap: 10px !important;
    align-content:start !important;
  }

  .word{
    width:10% !important;
    height: var(--rowH) !important;            /* 关键：与题目行同高 */
    min-height: 0 !important;
    box-sizing:border-box !important;

    font-size: var(--ui-fs) !important;
    line-height: 1 !important;

    display:flex !important;
    align-items:center !important;
    justify-content:center !important;

    /* 横屏：点击/按下/选中不改变尺寸 */
    transform:none !important;
    transition:none !important;
  }

  .word:hover,
  .word:active,
  .word.picked{
    transform:none !important;
    filter:none !important;
  }

  /* —— 右侧：题目（四行=四题对齐）—— */
  .questions{
    grid-area: qs !important;
    width: 350px !important;
    margin: 0px -10px !important;
    position: relative;
    z-index: 1;
    padding: 10px 30px 0 14px !important;
    box-sizing:border-box !important;
    overflow: visible !important;       /* 允许 message 出现在框外右侧 */
    align-self: start !important;     /* 关键：不撑满整行 */
    height: 180px !important;   /* 关键：高度只包住内容 */
    line-height: 1.5 !important;
  }

  .question{
    margin:0 !important;                         /* 去掉原本 10px margin，避免错位 */
    min-height: var(--rowH) !important;          /* 关键：与选项同高 */
    display:flex !important;
    align-items:center !important;

    font-size: var(--ui-fs) !important;
    white-space: nowrap !important;
    padding: 0 10px !important;                  /* 给文字留边距 */
    position: relative !important;
  }

  /* blank：放进去的字与句子同字号 */
  .blank{
    font-size: inherit !important;
    height: clamp(30px, 7vh, 20px) !important;
    line-height: 1 !important;
    display:inline-flex !important;
    align-items:center !important;
    justify-content:center !important;
  }

  /* ✅：保持在题目框内（你若未来想“紧跟句末”，我再给另一版） */
  .result{
    position:absolute !important;
    right: 10px !important;
    top:50% !important;
    transform: translateY(-50%) !important;
    white-space:nowrap !important;
  }

.message-area{
  /* 放在 qs 这个格子里定位 */
  grid-area: qs !important;

  position: absolute !important;
  left: calc(var(--qW) + var(--msgGap)) !important;  /* 关键：在 questions 右侧 */
  top: 50% !important;
  transform: translateY(-50%) !important;

  margin: 0 !important;
  padding: 0 !important;

  display: flex !important;
  justify-content: center !important;
  align-items: center !important;

  pointer-events: none !important; /* 继续不挡拖拽 */
}

#message{
  pointer-events: auto !important;

  max-width: clamp(160px, 30vw, 260px) !important;  /* 避免太大溢出屏幕 */
  white-space: nowrap !important;

  font-size: var(--ui-fs) !important;
  padding: 6px 14px !important;
}
  /* —— buttons：独立一行在最底部，保证不被吃掉 —— */
  #controls{
    position: fixed !important;
    padding-top: 6px;                      /* ✅ 原本可能 12px/18px，改小 */
    padding-bottom: calc(6px + env(safe-area-inset-bottom));
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    z-index: 9999 !important;

    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    gap: clamp(24px, 10vw, 120px) !important;
    padding: 6px 1px calc(5px + env(safe-area-inset-bottom)) 12px;
    margin: 0 !important;
    background: transparent !important;
  }

  /* ribbon（你想保留就注释掉这两段；想去掉就保留） */
  #controls::before{
    content:"" !important;
    position:absolute !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    top: 0 !important;
    background: linear-gradient(180deg, rgba(255,255,255,0), rgba(255,255,255,.88)) !important;
    backdrop-filter: blur(4px) !important;
    -webkit-backdrop-filter: blur(4px) !important;
    pointer-events:none !important;
    z-index:0 !important;
    top: auto;          /* ✅ 不往上延伸 */
    bottom: 0;
    left: 0;
    right: 0;

    height: 72px;       /* ✅ ribbon 高度（你可改 60~80） *
  }

  #controls .img-btn{
    position: relative !important;
    z-index: 1 !important;
    width:  clamp(30px, 8svh, 40px) !important;
    height: clamp(20px, 8svh, 40px) !important;
  }
}
/* ✅ 全端：交换 Home / Restart 左右位置 */
#controls{ display:flex; }   /* 确保是 flex */
#btnBack{ order: 1; }        /* Home 放到后面 */
#btnRestart{ order: 
}
  /* ✅ 只限电脑端：按钮固定在视口底部 */
@media (hover: hover) and (pointer: fine){
  #controls{
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 999;

    display: flex;
    justify-content: center;
    align-items: center;
    gap: 100px;

    padding: 12px 12px 18px;
    background: transparent;}
  }
  #controls::before{
    content:"";
    position:absolute;
    inset:0;
    background: linear-gradient(180deg, rgba(255,255,255,0), rgba(255,255,255,.88));
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
    pointer-events:none;
    z-index:0;
  }

  #controls .img-btn{ z-index: 1; }
 
  /* ✅ 关键：给内容区留出按钮高度，避免被盖住 */
  body{
    padding-bottom: 140px;  /* 你可按按钮大小调 120~160 */
  }

/* ✅ 只限电脑端：按钮固定在视口底部 */
@media (hover: hover) and (pointer: fine){
  #controls{
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 999;

    display: flex;
    justify-content: center;
    align-items: center;
    gap: 100px;

    padding: 12px 12px 18px;
    background: transparent;
  }

  #controls::before{
    content:"";
    position:absolute;
    inset:0;
    background: linear-gradient(180deg, rgba(255,255,255,0), rgba(255,255,255,.88));
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
    pointer-events:none;
    z-index:0;
  }

  /* ✅ 关键：给内容区留出按钮高度，避免被盖住 */
  body{
    padding-bottom: 140px;  /* 你可按按钮大小调 120~160 */
  }
}
