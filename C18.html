<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æˆ‘å°Šé‡å„æ—çš„æ–‡åŒ–</title>

<style>
@font-face{
  font-family: "MixFont","KaiTi","Kaiti SC","STKaiti","DFKai-SB", serif;
  src: url("../fonts/Azim-Light.otf") format("opentype");
  font-weight: 400;
  font-style: normal;
  unicode-range: U+0000-024F, U+2000-206F, U+20A0-20CF;
  font-display: swap; /* å»ºè®®åŠ ï¼Œé¿å…åŠ è½½æ—¶ç©ºç™½ */
}

@font-face{
  font-family: "MixFont","KaiTi","Kaiti SC","STKaiti","DFKai-SB", serif;
  src: url("../fonts/HYc1gj.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
  unicode-range: U+3000-303F, U+3400-4DBF, U+4E00-9FFF, U+FF00-FFEF;
  font-display: swap; /* å»ºè®®åŠ  */
}

:root{
  --h2:clamp(30px, 5.2vw, 56px);
  --c2:#F6F0D7;
  --c3:#B8DB80;
  --c5:#7b3f7b; 
  --tile-w: 96px;
  --tile-h: 46px;
  --shadow: 0 2px 8px rgba(0,0,0,.10);
}
body{
  margin:0;
  padding:clamp(10px, 3vw, 20px);
  font-family: "MixFont","KaiTi","Kaiti SC","STKaiti","DFKai-SB", serif;
  font-size:clamp(25px, 5vw, 30px);
  line-height:1.45;
  font-weight:bold;
  background: linear-gradient(180deg, var(--c2), #ffffff 55%, var(--c3));
}

.cornerTag{
  position: absolute;
  top: 12px;
  left: 12px;
  z-index: 10001;
  pointer-events: none;
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.cornerTag img{
  height: 18px;
  width: auto;
  display: block;
  flex: 0 0 auto;
}

.cornerTag > span{
  font-size: 14px;
  line-height: 1;
  color: rgba(0,0,0,.75);
  white-space: nowrap;
}

.cornerTag .en{
  font-size: 12px;
  display: inline-block;
  transform: translateY(-0.03em);
}

.container{
  max-width:1100px;
  margin:0 auto;
}

.section{
  margin-top: 6px;
}

#pageTitle{
  width: min(600px, 100%);
  margin: 20px auto 0px;
  text-align: center;
  font-size: 40px;
  font-weight: 800;
  line-height: 2;
  text-shadow:
    -2px -2px 0 #fff,  2px -2px 0 #fff,
    -2px  2px 0 #fff,  2px  2px 0 #fff,
     0   -2px 0 #fff,  0    2px 0 #fff,
    -2px  0   0 #fff,  2px  0   0 #fff,
     0    4px 10px rgba(0,0,0,.18);
}

.lead{
  font-size: clamp(18px, 3.8vw, 26px);
  text-align:center;
  margin: 8px 0 12px;
}

/* é€‰é¡¹åŒº */
.words{
  text-align:center;
  margin:10px 0 0px;
}

.word, .blank{
  width: var(--tile-w);
  height: var(--tile-h);
  border-radius: 14px;
  box-sizing: border-box;
}

.word{
  display:inline-flex;              /* è®©æ–‡å­—å±…ä¸­ */
  align-items:center;
  justify-content:center;
  font-family: "MixFont","KaiTi","Kaiti SC","STKaiti","DFKai-SB", serif;
  font-size: 20px;
  background: linear-gradient(180deg, #D4F6FF, #C6E7FF);
  box-shadow: var(--shadow);
  margin: 8px 6px 20px;
  cursor: grab;

  /* æ‰‹æœºé˜²é•¿æŒ‰èœå•/é€‰å­—ï¼Œå¹¶è®© JS æ‹–æ‹½é¡ºç•… */
  -webkit-user-select:none;
  user-select:none;
  -webkit-touch-callout:none;
  touch-action: none;
}

/* é¢˜ç›®æ•´ä½“å±…ä¸­ */
.questions{
  width: min(640px, 100%);
  margin:0 auto;
  padding: 0 10px;
}

/* å•é¢˜ */
.question{
  font-size: 20px;
  font-family: "MixFont","KaiTi","Kaiti SC","STKaiti","DFKai-SB", serif;
  font-weight: bold;
  text-align:left;
  margin:8px 0;
  display: flex;
  align-items: center;    /* è®©æ•´è¡Œæ›´ç¨³ */
  flex-wrap: wrap;
}

/* ç­”æ¡ˆæ¡† */
.blank{
  display:inline-block;
  width:90px;
  align-items:center;
  border:2px dashed #999;
  border-radius:12px;
  min-height:clamp(35px, 8vw, 45px);
  vertical-align:bottom;
  text-align:center;
  line-height:45px;
  margin:0 6px;
  background:#fff;
}

.blank.hover{
  outline: 3px solid rgba(255,165,0,.45);
  outline-offset: 2px;
}
.result{
  margin-left: 6px;
}
.keepTogether{
  white-space: nowrap;
}


/* æç¤ºæ–‡å­— */
#message{
  font-family: "MixFont","KaiTi","Kaiti SC","STKaiti","DFKai-SB", serif;
  display:inline-block;
  text-align:center;
  margin:8px 0 0px;
  font-size:28px;
  color:#ffa500;
  background:#fff0f5;
  padding:6px 16px;
  border-radius:18px;
}
#message:empty{ display:none; }
.message-area{ text-align:center; }

/* ===== åº•éƒ¨æŒ‰é’®ï¼ˆPNGï¼‰ ===== */
#controls{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:2px;
  margin:24px 0 10px;
  padding: 18px 0 12px;     /* å¢åŠ ä¸€ç‚¹é«˜åº¦ï¼Œè®©è¿‡æ¸¡æ›´æŸ” */
  background: transparent;
  position: sticky;
  bottom: 0;
  z-index: 50;
}

#controls::before{
  content:"";
  position:absolute;
  left:0; right:0; bottom:0;
  top:-18px; /* å¾€ä¸Šå»¶ä¼¸ï¼Œè®©æ¸å˜æ›´è‡ªç„¶ï¼Œä¸ä¼šâ€œä¸€åˆ€åˆ‡â€ */
  background: linear-gradient(
    180deg,
    rgba(184,219,128,0),
    rgba(184,219,128,.88)
  );
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  pointer-events:none;
  z-index: 0;
}

#controls button{
  position: relative;
  z-index: 1;
}

/* ç»Ÿä¸€åšæˆå›¾ç‰‡æŒ‰é’® */
#controls .img-btn{
  width: clamp(80px, 22vw, 160px);
  height: clamp(26px, 7vw, 60px);
  border: none;
  padding: 0;
  cursor: pointer;
  background: transparent no-repeat center / contain;
  -webkit-tap-highlight-color: transparent;
}

#controls .img-home{ background-image:url("images/btn_home.png"); }
#controls .img-restart{ background-image:url("images/btn_restart.png"); }
#controls .img-btn:active{ transform: scale(0.98); }

.keepTogether{
  white-space: nowrap;
}


/* æ‰‹æœºè‡ªé€‚åº” */
@media (max-width: 650px){
  :root{
    --tile-w: 92px;
    --tile-h: 52px;
  }
  .word{ font-size: clamp(20px, 4.6vw, 30px); }
  .question{ font-size: clamp(18px, 4.2vw, 26px); }
  .blank{ font-size: clamp(18px, 4.2vw, 26px); }
}
</style>
</head>

<body>
  <div class="cornerTag">
    <img src="images/Delima.png" alt="">
    <span>ä¸€å¹´çº§é“å¾·æ•™è‚² <span class="en">(KP2027)</span> ç¬¬ <span class="en">5</span> è¯¾ ç¬¬ <span class="en">19</span> é¡µ</span></span>
  </div>

<div class="container">
  <h2 id="pageTitle">æˆ‘å°Šé‡å„æ—çš„æ–‡åŒ–</h2>

  <div class="section">
    <p class="lead">ğŸ’«æŠŠæ­£ç¡®çš„è¯æ‹–è¿›ç­”æ¡ˆæ¡†ğŸ’«</p>

<!-- é€‰é¡¹ -->
  <div class="words" id="options">
    <div class="word" draggable="true" id="admire">æ¬£èµ</div>
    <div class="word" draggable="true" id="polite">ç¤¼è²Œ</div>
    <div class="word" draggable="true" id="listen">è†å¬</div>
    <div class="word" draggable="true" id="mock">å–ç¬‘</div>
    <div class="word" draggable="true" id="bless">ç¥ç¦</div>
  </div>

<!-- é¢˜ç›®åŒº -->
      <div class="questions">
<div class="question">
  <strong>A</strong>ã€€æˆ‘ä¸ <span class="blank" data-correct="mock"></span> å„æ—çš„ä¼ ç»Ÿæ–‡åŒ–ã€‚ </span><span class="result"></span></div>

        <div class="question"><strong>B</strong>ã€€æˆ‘ä¼š <span class="blank" data-correct="polite"></span> è¯„ä»·å„æ—çš„ä¼ ç»Ÿç¾é£Ÿã€‚ <span class="result"></span></div>

        <div class="question"><strong>C</strong>ã€€æˆ‘å­¦ä¹  <span class="blank" data-correct="admire"></span> å„æ—çš„ä¹ ä¿—ä¸ä¼ ç»Ÿã€‚ <span class="result"></span></div>

        <div class="question"><strong>D</strong>ã€€æˆ‘ä¼š <span class="blank" data-correct="listen"></span> å„æ—åŒå­¦åˆ†äº«æ–‡åŒ–æ•…äº‹ã€‚ <span class="result"></span></div>

        <div class="question"><strong>E</strong>ã€€èŠ‚åº†æ—¶ï¼Œæˆ‘ä¸ºå„æ—åŒå­¦é€ä¸Š <span class="blank" data-correct="bless"></span>ã€‚ <span class="result"></span></div>

        <div class="message-area">
          <p id="message"></p>
        </div>
      </div>

      <footer id="controls">
        <button type="button" id="btnHome" class="img-btn img-home" aria-label="è¿”å›"></button>
        <button type="button" id="btnRestart" class="img-btn img-restart" aria-label="é‡æ–°å¼€å§‹"></button>
      </footer>
    </div>
  </div>

<script>
let correctCount = 0;

const msg = document.getElementById("message");
const optionsWrap = document.getElementById("options");
const words = Array.from(document.querySelectorAll(".word"));
const blanks = Array.from(document.querySelectorAll(".blank"));

function dropLogic(blankEl, draggedEl){
  if(blankEl.classList.contains("done")) return;

  const correctId = blankEl.dataset.correct || "";
  const questionDiv = blankEl.closest(".question");
  const resultSpan = questionDiv && questionDiv.querySelector(".result");

  if(draggedEl.id === correctId){
    blankEl.textContent = draggedEl.textContent;
    blankEl.style.border = "2px solid #4CAF50";
    draggedEl.style.display = "none";
    if(resultSpan) resultSpan.textContent = "âœ…";
    msg.textContent = "";

    blankEl.classList.add("done");
    correctCount++;

    if(correctCount === 5){
      msg.textContent = "ğŸ‰ å®Œå…¨ç­”å¯¹ï¼ğŸŒŸ";
    }
  }else{
    msg.textContent = "ğŸ¤” æƒ³ä¸€æƒ³ï¼Œå†å›ç­” ğŸ¤";
  }
}

/* ===== ç”µè„‘ç«¯ï¼šHTML5 Drag & Drop ===== */
words.forEach(w=>{
  w.addEventListener("dragstart", (e)=>{
    e.dataTransfer.setData("text/plain", w.id);
  });
});

blanks.forEach(b=>{
  b.addEventListener("dragover", (e)=>e.preventDefault());
  b.addEventListener("dragenter", ()=>b.classList.add("hover"));
  b.addEventListener("dragleave", ()=>b.classList.remove("hover"));
  b.addEventListener("drop", (e)=>{
    e.preventDefault();
    b.classList.remove("hover");
    const id = e.dataTransfer.getData("text/plain");
    const draggedEl = document.getElementById(id);
    if(draggedEl) dropLogic(b, draggedEl);
  });
});

/* ===== é‡æ–°å¼€å§‹ / è¿”å› ===== */
function resetGame(){
  blanks.forEach(b=>{
    b.innerText = "";
    b.style.border = "2px dashed #999";
    b.classList.remove("done");
    b.classList.remove("hover");
  });

  document.querySelectorAll(".result").forEach(r=>r.textContent="");
  Array.from(optionsWrap.children).forEach(w=>w.style.display="inline-flex");
  correctCount = 0;
  msg.textContent = "";
}
function goBack(){ window.history.back(); }

document.getElementById("btnRestart").addEventListener("click", resetGame);
document.getElementById("btnHome").addEventListener("click", goBack);

/* ===== æ‰‹æœºç«¯ï¼šPointer/Touch æ‹–æ‹½ï¼ˆè¦†ç›–æ‰€æœ‰æ‰‹æœºï¼‰ ===== */
(function enableTouchDnD(){
  // åªè¦æ˜¯è§¦æ§è®¾å¤‡ï¼ˆæ‰‹æœº/å¹³æ¿ï¼‰ï¼Œå°±å¯ç”¨è‡ªå®šä¹‰æ‹–æ‹½
  const isTouchDevice =
    ("ontouchstart" in window) ||
    (navigator.maxTouchPoints && navigator.maxTouchPoints > 0);

  if(!isTouchDevice) return;

  // è§¦æ§ç«¯ç¦ç”¨åŸç”Ÿ draggableï¼ˆé¿å…é•¿æŒ‰è§¦å‘ï¼‰
  words.forEach(w=>{
    w.draggable = false;
    w.addEventListener("dragstart", e=>e.preventDefault());
    w.addEventListener("contextmenu", e=>e.preventDefault());
  });

  let state = { el:null, ghost:null, ox:0, oy:0, active:false, hoverBlank:null, prevOverflow:"" };

  function pt(e){
    const t = (e.touches && e.touches[0]) || (e.changedTouches && e.changedTouches[0]);
    return t ? {x:t.clientX, y:t.clientY} : {x:e.clientX, y:e.clientY};
  }

  function setHoverBlank(blank){
    if(state.hoverBlank === blank) return;
    if(state.hoverBlank) state.hoverBlank.classList.remove("hover");
    state.hoverBlank = blank;
    if(state.hoverBlank) state.hoverBlank.classList.add("hover");
  }

  function start(e, el){
    const p = pt(e);
    state.el = el;
    state.active = true;

    const r = el.getBoundingClientRect();
    state.ox = p.x - r.left;
    state.oy = p.y - r.top;

    const g = el.cloneNode(true);
    g.style.position = "fixed";
    g.style.left = (p.x - state.ox) + "px";
    g.style.top  = (p.y - state.oy) + "px";
    g.style.zIndex = 9999;
    g.style.opacity = "0.92";
    g.style.pointerEvents = "none";
    document.body.appendChild(g);
    state.ghost = g;

    state.prevOverflow = document.body.style.overflow;
    document.body.style.overflow = "hidden";
  }

  function move(e){
    if(!state.active || !state.ghost) return;
    const p = pt(e);

    state.ghost.style.left = (p.x - state.ox) + "px";
    state.ghost.style.top  = (p.y - state.oy) + "px";

    const target = document.elementFromPoint(p.x, p.y);
    const blank = target && target.closest ? target.closest(".blank") : null;
    setHoverBlank(blank);
  }

  function end(e){
    if(!state.active) return;
    const p = pt(e);

    const target = document.elementFromPoint(p.x, p.y);
    const blank = target && target.closest ? target.closest(".blank") : null;

    if(blank && state.el) dropLogic(blank, state.el);

    if(state.ghost) state.ghost.remove();
    setHoverBlank(null);

    document.body.style.overflow = state.prevOverflow || "";
    state = { el:null, ghost:null, ox:0, oy:0, active:false, hoverBlank:null, prevOverflow:"" };
  }

  const supportsPointer = "PointerEvent" in window;

  words.forEach(el=>{
    if(supportsPointer){
      el.addEventListener("pointerdown", (e)=>{
        if(e.pointerType !== "touch" && e.pointerType !== "pen") return;
        e.preventDefault();
        el.setPointerCapture && el.setPointerCapture(e.pointerId);
        start(e, el);
      }, {passive:false});

      el.addEventListener("pointermove", (e)=>{
        if(e.pointerType !== "touch" && e.pointerType !== "pen") return;
        if(!state.active) return;
        e.preventDefault();
        move(e);
      }, {passive:false});

      el.addEventListener("pointerup", (e)=>{
        if(e.pointerType !== "touch" && e.pointerType !== "pen") return;
        e.preventDefault();
        end(e);
      }, {passive:false});

      el.addEventListener("pointercancel", end, {passive:false});
    }else{
      el.addEventListener("touchstart", (e)=>{ e.preventDefault(); start(e, el); }, {passive:false});
      el.addEventListener("touchmove",  (e)=>{ if(!state.active) return; e.preventDefault(); move(e); }, {passive:false});
      el.addEventListener("touchend",   (e)=>{ e.preventDefault(); end(e); }, {passive:false});
      el.addEventListener("touchcancel", end, {passive:false});
    }
  });
})();
</script>
</body>
</html>